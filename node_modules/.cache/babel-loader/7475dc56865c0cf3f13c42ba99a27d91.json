{"ast":null,"code":"/*!\n * lightgallery | 2.3.0 | October 28th 2021\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nvar shareSettings = {\n  share: true,\n  facebook: true,\n  facebookDropdownText: 'Facebook',\n  twitter: true,\n  twitterDropdownText: 'Twitter',\n  pinterest: true,\n  pinterestDropdownText: 'Pinterest',\n  additionalShareOptions: []\n};\n\nfunction getFacebookShareLink(galleryItem) {\n  var facebookBaseUrl = '//www.facebook.com/sharer/sharer.php?u=';\n  return facebookBaseUrl + encodeURIComponent(galleryItem.facebookShareUrl || window.location.href);\n}\n\nfunction getTwitterShareLink(galleryItem) {\n  var twitterBaseUrl = '//twitter.com/intent/tweet?text=';\n  var url = encodeURIComponent(galleryItem.twitterShareUrl || window.location.href);\n  var text = galleryItem.tweetText;\n  return twitterBaseUrl + text + '&url=' + url;\n}\n\nfunction getPinterestShareLink(galleryItem) {\n  var pinterestBaseUrl = 'http://www.pinterest.com/pin/create/button/?url=';\n  var description = galleryItem.pinterestText;\n  var media = encodeURIComponent(galleryItem.src);\n  var url = encodeURIComponent(galleryItem.pinterestShareUrl || window.location.href);\n  return pinterestBaseUrl + url + '&media=' + media + '&description=' + description;\n}\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\n\n\nvar lGEvents = {\n  afterAppendSlide: 'lgAfterAppendSlide',\n  init: 'lgInit',\n  hasVideo: 'lgHasVideo',\n  containerResize: 'lgContainerResize',\n  updateSlides: 'lgUpdateSlides',\n  afterAppendSubHtml: 'lgAfterAppendSubHtml',\n  beforeOpen: 'lgBeforeOpen',\n  afterOpen: 'lgAfterOpen',\n  slideItemLoad: 'lgSlideItemLoad',\n  beforeSlide: 'lgBeforeSlide',\n  afterSlide: 'lgAfterSlide',\n  posterClick: 'lgPosterClick',\n  dragStart: 'lgDragStart',\n  dragMove: 'lgDragMove',\n  dragEnd: 'lgDragEnd',\n  beforeNextSlide: 'lgBeforeNextSlide',\n  beforePrevSlide: 'lgBeforePrevSlide',\n  beforeClose: 'lgBeforeClose',\n  afterClose: 'lgAfterClose',\n  rotateLeft: 'lgRotateLeft',\n  rotateRight: 'lgRotateRight',\n  flipHorizontal: 'lgFlipHorizontal',\n  flipVertical: 'lgFlipVertical'\n};\n\nvar Share =\n/** @class */\nfunction () {\n  function Share(instance) {\n    this.shareOptions = []; // get lightGallery core plugin instance\n\n    this.core = instance; // extend module default settings with lightGallery core settings\n\n    this.settings = __assign(__assign({}, shareSettings), this.core.settings);\n    return this;\n  }\n\n  Share.prototype.init = function () {\n    if (!this.settings.share) {\n      return;\n    }\n\n    this.shareOptions = __spreadArrays(this.getDefaultShareOptions(), this.settings.additionalShareOptions);\n    this.setLgShareMarkup();\n    this.core.outer.find('.lg-share .lg-dropdown').append(this.getShareListHtml());\n    this.core.LGel.on(lGEvents.afterSlide + \".share\", this.onAfterSlide.bind(this));\n  };\n\n  Share.prototype.getShareListHtml = function () {\n    var shareHtml = '';\n    this.shareOptions.forEach(function (shareOption) {\n      shareHtml += shareOption.dropdownHTML;\n    });\n    return shareHtml;\n  };\n\n  Share.prototype.setLgShareMarkup = function () {\n    var _this = this;\n\n    this.core.$toolbar.append(\"<button type=\\\"button\\\" aria-label=\\\"Share\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"lg-share lg-icon\\\">\\n                <ul class=\\\"lg-dropdown\\\" style=\\\"position: absolute;\\\"></ul></button>\");\n    this.core.outer.append('<div class=\"lg-dropdown-overlay\"></div>');\n    var $shareButton = this.core.outer.find('.lg-share');\n    $shareButton.first().on('click.lg', function () {\n      _this.core.outer.toggleClass('lg-dropdown-active');\n\n      if (_this.core.outer.hasClass('lg-dropdown-active')) {\n        _this.core.outer.attr('aria-expanded', true);\n      } else {\n        _this.core.outer.attr('aria-expanded', false);\n      }\n    });\n    this.core.outer.find('.lg-dropdown-overlay').first().on('click.lg', function () {\n      _this.core.outer.removeClass('lg-dropdown-active');\n\n      _this.core.outer.attr('aria-expanded', false);\n    });\n  };\n\n  Share.prototype.onAfterSlide = function (event) {\n    var _this = this;\n\n    var index = event.detail.index;\n    var currentItem = this.core.galleryItems[index];\n    setTimeout(function () {\n      _this.shareOptions.forEach(function (shareOption) {\n        var selector = shareOption.selector;\n\n        _this.core.outer.find(selector).attr('href', shareOption.generateLink(currentItem));\n      });\n    }, 100);\n  };\n\n  Share.prototype.getShareListItemHTML = function (type, text) {\n    return \"<li><a class=\\\"lg-share-\" + type + \"\\\" rel=\\\"noopener\\\" target=\\\"_blank\\\"><span class=\\\"lg-icon\\\"></span><span class=\\\"lg-dropdown-text\\\">\" + text + \"</span></a></li>\";\n  };\n\n  Share.prototype.getDefaultShareOptions = function () {\n    return __spreadArrays(this.settings.facebook ? [{\n      type: 'facebook',\n      generateLink: getFacebookShareLink,\n      dropdownHTML: this.getShareListItemHTML('facebook', this.settings.facebookDropdownText),\n      selector: '.lg-share-facebook'\n    }] : [], this.settings.twitter ? [{\n      type: 'twitter',\n      generateLink: getTwitterShareLink,\n      dropdownHTML: this.getShareListItemHTML('twitter', this.settings.twitterDropdownText),\n      selector: '.lg-share-twitter'\n    }] : [], this.settings.pinterest ? [{\n      type: 'pinterest',\n      generateLink: getPinterestShareLink,\n      dropdownHTML: this.getShareListItemHTML('pinterest', this.settings.pinterestDropdownText),\n      selector: '.lg-share-pinterest'\n    }] : []);\n  };\n\n  Share.prototype.destroy = function () {\n    this.core.outer.find('.lg-dropdown-overlay').remove();\n    this.core.outer.find('.lg-share').remove();\n    this.core.LGel.off('.lg.share');\n    this.core.LGel.off('.share');\n  };\n\n  return Share;\n}();\n\nexport default Share;","map":{"version":3,"sources":["../../../src/plugins/share/lg-share-settings.ts","../../../src/plugins/share/lg-fb-share-utils.ts","../../../src/plugins/share/lg-twitter-share-utils.ts","../../../src/plugins/share/lg-pinterest-share-utils.ts","../../../src/lg-events.ts","../../../src/plugins/share/lg-share.ts"],"names":[],"mappings":"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","sourcesContent":["import { ShareOption } from './types';\n\nexport interface ShareSettings {\n    /**\n     * Enable/Disable share options\n     */\n    share: boolean;\n\n    /**\n     * Enable Facebook share.\n     */\n    facebook: boolean;\n\n    /**\n     * Facebook dropdown text.\n     */\n    facebookDropdownText: string;\n\n    /**\n     * Enable twitter share.\n     */\n    twitter: boolean;\n\n    /**\n     * Twitter dropdown text\n     */\n    twitterDropdownText: string;\n\n    /**\n     * Enable pinterest share.\n     */\n    pinterest: boolean;\n\n    /**\n     * Pinterest dropdown text\n\n     */\n    pinterestDropdownText: string;\n\n    /**\n     * Array of additional share options\n     *\n     * This can be used to build additional share options.\n     * <a href=\"/demos/share/\">Demo</a>\n     */\n    additionalShareOptions: ShareOption[];\n}\n\nexport const shareSettings = {\n    share: true,\n    facebook: true,\n    facebookDropdownText: 'Facebook',\n    twitter: true,\n    twitterDropdownText: 'Twitter',\n    pinterest: true,\n    pinterestDropdownText: 'Pinterest',\n    additionalShareOptions: [],\n};\n","import { GalleryItem } from '../../lg-utils';\n\nexport function getFacebookShareLink(galleryItem: GalleryItem): string {\n    const facebookBaseUrl = '//www.facebook.com/sharer/sharer.php?u=';\n    return (\n        facebookBaseUrl +\n        encodeURIComponent(galleryItem.facebookShareUrl || window.location.href)\n    );\n}\n","import { GalleryItem } from '../../lg-utils';\n\nexport function getTwitterShareLink(galleryItem: GalleryItem): string {\n    const twitterBaseUrl = '//twitter.com/intent/tweet?text=';\n    const url = encodeURIComponent(\n        galleryItem.twitterShareUrl || window.location.href,\n    );\n    const text = galleryItem.tweetText;\n    return twitterBaseUrl + text + '&url=' + url;\n}\n","import { GalleryItem } from '../../lg-utils';\n\nexport function getPinterestShareLink(galleryItem: GalleryItem): string {\n    const pinterestBaseUrl = 'http://www.pinterest.com/pin/create/button/?url=';\n    const description = galleryItem.pinterestText;\n    const media = encodeURIComponent(galleryItem.src as string);\n    const url = encodeURIComponent(\n        galleryItem.pinterestShareUrl || window.location.href,\n    );\n    return (\n        pinterestBaseUrl +\n        url +\n        '&media=' +\n        media +\n        '&description=' +\n        description\n    );\n}\n","import { LightGallery } from './lightgallery';\nimport { VideoSource } from './plugins/video/types';\n\n/**\n * List of lightGallery events\n * All events should be documented here\n * Below interfaces are used to build the website documentations\n * */\nexport const lGEvents: {\n    [key: string]: string;\n} = {\n    afterAppendSlide: 'lgAfterAppendSlide',\n    init: 'lgInit',\n    hasVideo: 'lgHasVideo',\n    containerResize: 'lgContainerResize',\n    updateSlides: 'lgUpdateSlides',\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\n    beforeOpen: 'lgBeforeOpen',\n    afterOpen: 'lgAfterOpen',\n    slideItemLoad: 'lgSlideItemLoad',\n    beforeSlide: 'lgBeforeSlide',\n    afterSlide: 'lgAfterSlide',\n    posterClick: 'lgPosterClick',\n    dragStart: 'lgDragStart',\n    dragMove: 'lgDragMove',\n    dragEnd: 'lgDragEnd',\n    beforeNextSlide: 'lgBeforeNextSlide',\n    beforePrevSlide: 'lgBeforePrevSlide',\n    beforeClose: 'lgBeforeClose',\n    afterClose: 'lgAfterClose',\n    rotateLeft: 'lgRotateLeft',\n    rotateRight: 'lgRotateRight',\n    flipHorizontal: 'lgFlipHorizontal',\n    flipVertical: 'lgFlipVertical',\n};\n\n/**\n * Fired only once when lightGallery is initialized\n * @name lgInit\n * @method onInit\n * @example\n *   const lg = document.getElementById('custom-events-demo');\n *   // Perform any action on lightGallery initialization.\n *   // Init event returns the plugin instance that can be used to call any lightGalley public method\n *   let pluginInstance = null;\n *   lg.addEventListener('lgInit', (event) => {\n *      pluginInstance = event.detail.instance;\n *   });\n *   lightGallery(lg);\n * @see <a href=\"/docs/methods\">Methods<a>\n */\nexport interface InitDetail {\n    /**\n     * lightGallery plugin instance\n     */\n    instance: LightGallery;\n}\n\n/**\n * Fired when the slide content has been inserted into it's slide container.\n * @name lgAfterAppendSlide\n * @method onAfterAppendSlide\n */\nexport interface AfterAppendSlideEventDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired immediately before opening the gallery\n * @name lgBeforeOpen\n * @method onBeforeOpen\n */\nexport interface BeforeOpenDetail {}\n\n/**\n * Fired immediately after opening the gallery\n * @name lgAfterOpen\n * @method onAfterOpen\n */\nexport interface AfterOpenDetail {}\n\n/**\n * Fired once the media inside the slide has been completely loaded .\n * @name lgSlideItemLoad\n * @method onSlideItemLoad\n */\nexport interface SlideItemLoadDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * For the first slide, lightGallery adds some delay for displaying the loaded slide item.\n     * This delay is required for the transition effect when the slide item is displayed\n     * Respect the delay when you use this event\n     */\n    delay: number;\n\n    // Will be true for the first slide\n    isFirstSlide: boolean;\n}\n\n/**\n * Fired immediately before each slide transition.\n * @name lgBeforeSlide\n * @method onBeforeSlide\n * @example\n *   const lg = document.getElementById('custom-events-demo');\n *   // Perform any action before each slide transition\n *   lg.addEventListener('lgBeforeSlide', (event) => {\n *       const { index, prevIndex } = event.detail;\n *       alert(index, prevIndex);\n *   });\n *   lightGallery(lg);\n */\nexport interface BeforeSlideDetail {\n    /**\n     * Index of the previous slide\n     */\n    prevIndex: number;\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n    /**\n     * true if slide function called via thumbnail click\n     */\n    fromThumb: boolean;\n}\n\n/**\n * Fired immediately after each slide transition.\n * @name lgAfterSlide\n * @method onAfterSlide\n */\nexport interface AfterSlideDetail {\n    /**\n     * Index of the previous slide\n     */\n    prevIndex: number;\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n    /**\n     * true if slide function called via thumbnail click\n     */\n    fromThumb: boolean;\n}\n\n/**\n * Fired when the video poster is clicked.\n * @name lgPosterClick\n * @method onPosterClick\n */\nexport interface PosterClickDetail {}\n\n/**\n * Fired when the drag event to move to different slide starts.\n * @name lgDragStart\n * @method onDragStart\n */\nexport interface DragStartDetail {}\n\n/**\n * Fired periodically during the drag operation.\n * @name lgDragMove\n * @method onDragMove\n */\nexport interface DragMoveDetail {}\n\n/**\n * Fired when the user has finished the drag operation\n * @name lgDragEnd\n * @method onDragEnd\n */\nexport interface DragEndDetail {}\n\n/**\n * Fired immediately before the start of the close process.\n * @name lgBeforeClose\n * @method onBeforeClose\n */\nexport interface BeforeCloseDetail {}\n\n/**\n * Fired immediately once lightGallery is closed.\n * @name lgAfterClose\n * @method onAfterClose\n */\nexport interface AfterCloseDetail {\n    /**\n     * lightGallery plugin instance\n     */\n    instance: LightGallery;\n}\n\n/**\n * Fired immediately before each \"next\" slide transition\n * @name lgBeforeNextSlide\n * @method onBeforeNextSlide\n */\nexport interface BeforeNextSlideDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n}\n\n/**\n * Fired immediately before each \"prev\" slide transition\n * @name lgBeforePrevSlide\n * @method onBeforePrevSlide\n */\nexport interface BeforePrevSlideDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n}\n\n/**\n * Fired when the sub-html content (ex : title/ description) has been appended into the slide.\n * @name lgAfterAppendSubHtml\n * @method onAfterAppendSubHtml\n */\nexport interface AfterAppendSubHtmlDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the lightGallery container has been resized.\n * @name lgContainerResize\n * @method onContainerResize\n */\nexport interface ContainerResizeDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when lightGallery detects video slide\n * @name lgHasVideo\n * @method onHasVideo\n */\nexport interface HasVideoDetail {\n    /**\n     * Index of the slide,\n     */\n    index: number;\n    /**\n     * Video source\n     */\n    src: string;\n    /**\n     * HTML5 video source if available\n     * <p>\n       HTML5 video source = source: {\n            src: string;\n            type: string;\n        }[];\n        attributes: HTMLVideoElement;\n     * </p>\n     */\n    html5Video: VideoSource;\n    /**\n     * True if video has poster\n     */\n    hasPoster: boolean;\n}\n","import { ShareSettings, shareSettings } from './lg-share-settings';\n\nimport { getFacebookShareLink } from './lg-fb-share-utils';\nimport { getTwitterShareLink } from './lg-twitter-share-utils';\nimport { getPinterestShareLink } from './lg-pinterest-share-utils';\nimport { LightGallery } from '../../lightgallery';\nimport { lGEvents } from '../../lg-events';\nimport { ShareOption } from './types';\ninterface DefaultShareOptions extends ShareOption {\n    type: string;\n}\nexport default class Share {\n    core: LightGallery;\n    settings: ShareSettings;\n    private shareOptions: ShareOption[] = [];\n    constructor(instance: LightGallery) {\n        // get lightGallery core plugin instance\n        this.core = instance;\n        // extend module default settings with lightGallery core settings\n        this.settings = { ...shareSettings, ...this.core.settings };\n        return this;\n    }\n\n    public init(): void {\n        if (!this.settings.share) {\n            return;\n        }\n        this.shareOptions = [\n            ...this.getDefaultShareOptions(),\n            ...this.settings.additionalShareOptions,\n        ];\n        this.setLgShareMarkup();\n        this.core.outer\n            .find('.lg-share .lg-dropdown')\n            .append(this.getShareListHtml());\n\n        this.core.LGel.on(\n            `${lGEvents.afterSlide}.share`,\n            this.onAfterSlide.bind(this),\n        );\n    }\n\n    private getShareListHtml() {\n        let shareHtml = '';\n        this.shareOptions.forEach((shareOption) => {\n            shareHtml += shareOption.dropdownHTML;\n        });\n\n        return shareHtml;\n    }\n\n    setLgShareMarkup(): void {\n        this.core.$toolbar.append(\n            `<button type=\"button\" aria-label=\"Share\" aria-haspopup=\"true\" aria-expanded=\"false\" class=\"lg-share lg-icon\">\n                <ul class=\"lg-dropdown\" style=\"position: absolute;\"></ul></button>`,\n        );\n\n        this.core.outer.append('<div class=\"lg-dropdown-overlay\"></div>');\n        const $shareButton = this.core.outer.find('.lg-share');\n        $shareButton.first().on('click.lg', () => {\n            this.core.outer.toggleClass('lg-dropdown-active');\n            if (this.core.outer.hasClass('lg-dropdown-active')) {\n                this.core.outer.attr('aria-expanded', true);\n            } else {\n                this.core.outer.attr('aria-expanded', false);\n            }\n        });\n\n        this.core.outer\n            .find('.lg-dropdown-overlay')\n            .first()\n            .on('click.lg', () => {\n                this.core.outer.removeClass('lg-dropdown-active');\n                this.core.outer.attr('aria-expanded', false);\n            });\n    }\n\n    private onAfterSlide(event: CustomEvent) {\n        const { index } = event.detail;\n        const currentItem = this.core.galleryItems[index];\n        setTimeout(() => {\n            this.shareOptions.forEach((shareOption) => {\n                const selector = shareOption.selector;\n                this.core.outer\n                    .find(selector)\n                    .attr('href', shareOption.generateLink(currentItem));\n            });\n        }, 100);\n    }\n\n    private getShareListItemHTML(type: string, text: string): string {\n        return `<li><a class=\"lg-share-${type}\" rel=\"noopener\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">${text}</span></a></li>`;\n    }\n\n    private getDefaultShareOptions(): DefaultShareOptions[] {\n        return [\n            ...(this.settings.facebook\n                ? [\n                      {\n                          type: 'facebook',\n                          generateLink: getFacebookShareLink,\n                          dropdownHTML: this.getShareListItemHTML(\n                              'facebook',\n                              this.settings.facebookDropdownText,\n                          ),\n                          selector: '.lg-share-facebook',\n                      },\n                  ]\n                : []),\n            ...(this.settings.twitter\n                ? [\n                      {\n                          type: 'twitter',\n                          generateLink: getTwitterShareLink,\n                          dropdownHTML: this.getShareListItemHTML(\n                              'twitter',\n                              this.settings.twitterDropdownText,\n                          ),\n                          selector: '.lg-share-twitter',\n                      },\n                  ]\n                : []),\n            ...(this.settings.pinterest\n                ? [\n                      {\n                          type: 'pinterest',\n                          generateLink: getPinterestShareLink,\n                          dropdownHTML: this.getShareListItemHTML(\n                              'pinterest',\n                              this.settings.pinterestDropdownText,\n                          ),\n                          selector: '.lg-share-pinterest',\n                      },\n                  ]\n                : []),\n        ];\n    }\n\n    public destroy(): void {\n        this.core.outer.find('.lg-dropdown-overlay').remove();\n        this.core.outer.find('.lg-share').remove();\n        this.core.LGel.off('.lg.share');\n        this.core.LGel.off('.share');\n    }\n}\n"]},"metadata":{},"sourceType":"module"}